---
## Front matter
title: "Лабораторная работа 1"
subtitle: "Знакомство с Cisco Packet Tracer"
author: "Ланцова Яна Игоревна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: false # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
    - spelling=modern
    - babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Установить инструмент моделирования конфигурации сети Cisco Packet Tracer, ознакомиться с его интерфейсом.

# Задание

1. Установить на домашнем устройстве Cisco Packet Tracer.
2. Построить простейшую сеть в Cisco Packet Tracer, провести простейшую настройку оборудования.

# Выполнение лабораторной работы

Установить в моей операционной системе Cisco Packet Tracer (рис. [-@fig:001]).

![окно загрузки Cisco Packet Tracer](image/1.png){#fig:001 width=70%}

Для ОС типа Windows требуется блокировать для Packet Tracer доступ в Интернет(рис. [-@fig:002]):

![блокируем доступ через «Брандмауэр»](image/2.png){#fig:002 width=70%}

Создадим новый проект lab_PT-01.pkt. В рабочем пространстве разместим концентратор (Hub-PT) и четыре оконечных устройства PC. Соединим оконечные устройства с концентратором прямым кабелем. Щёлкнув последовательно на каждое оконечном устройстве, зададим статические IP-адреса 192.168.1.11, 192.168.1.12, 192.168.1.13, 192.168.1.14 с маской подсети 255.255.255.0 (рис. [-@fig:003]):

![модель простой сети с концентратором](image/3.png){#fig:003 width=70%}

![настройка статического IP-адреса на оконечном устройстве](image/4.png){#fig:003 width=70%}

В основном окне проекта перейдем из режима реального времени (Realtime) в режим моделирования (Simulation). Выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкним сначала на PC0, затем на PC2. В рабочей области должны появились два конверта, обозначающих пакеты, в списке событий на панели моделирования должны будут появиться два события, относящихся к пакетам ARP и ICMP соответственно. На панели моделирования нажмем кнопку «Play» и проследим за движением пакетов ARP и ICMP от устройства PC0 до устройства PC2 и обратно. Можно увидеть, что пакет сначала отправляется на хаб, далее рассылается по всем устройствам, но принимает его только тот ПК, которому был предназначен пакет (рис. [-@fig:004]).

![добавление Simple PDU](image/5.png){#fig:004 width=70%}

Щёлкнув на строке события, откроем окно информации о PDU и изучим, что происходит на уровне модели OSI при перемещении пакета. Используя кнопку «Проверь себя» (Challenge Me) на вкладке OSI Model, ответим на вопросы. (рис. [-@fig:005]).

![проверка себя](image/6.png){#fig:005 width=70%}

Откроем вкладку с информацией о PDU. Исследуем структуру пакета ICMP. Изначально в PDU есть только заголовок IP, в котором есть соответсвенно информация об IP-адресах источника и назначения. Также там есть заголовок ICMP. В нем содержится данные о типе ICMP-пакета, его коде, контрольной сумме, его идентификаторе и порядковом номере. Эти заголовки остаются постоянными при передаче. Далее появляется кадр Ethernet. Тут есть поле преамбула — 7 байт для синхронизации. Поле SFD. Destination Address — Ethernet-адрес получателя, 6 байт. Source Address — Ethernet-адрес отправителя, 6 байт. Type — тип, для обозначения типа протокола уровня. FCS — frame check sequence, 4 байта, поле контрольной последовательности фрейма.

Очистим список событий, удалив сценарий моделирования. Выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкнем сначала на PC0, затем на PC2. Снова выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкнем сначала на PC2, затем на PC0. На панели моделирования нажмем кнопку «Play» и проследим за возникновением коллизии (рис. [-@fig:006]).

![коллизия](image/7.png){#fig:006 width=70%}

В списке событий посмотрим информацию о PDU. Увидим, что пакеты сначала передаются на хаб, где и возникает коллизия, так как он не может передать два сообщения одновременно. У первого сообщения информация о PDU не отображается, а у второго ее в принципе не должно быть. Далее второй пакет вообще исчезает, а второй отправляется на все устройства, но пустое, возникает ошибка (рис. [-@fig:007]).

![информация о PDU при возникновением коллизии](image/8.png){#fig:007 width=70%}

Перейдем в режим реального времени (Realtime). В рабочем пространстве разместим коммутатор (например Cisco 2950-24) и 4 оконечных устройства PC. Соединим оконечные устройства с коммутатором прямым кабелем. Щёлкнув последовательно на каждом оконечном устройстве, зададим статические IP-адреса 192.168.1.21, 192.168.1.22, 192.168.1.23, 192.168.1.24 с маской подсети 255.255.255.0. (рис. [-@fig:008]).

![модель простой сети с коммутатором](image/9.png){#fig:008 width=70%}

В основном окне проекта перейдем в режим моделирования (Simulation). Выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкним сначала на PC4, затем на PC6. В рабочей области появились два конверта, обозначающих пакеты, в списке событий на панели моделирования появились два события, относящихся к пакетам ARP и ICMP соответственно. На панели моделирования нажмем кнопку «Play» и проследим за движением пакетов ARP и ICMP от устройства PC4 до устройства PC6 и обратно (рис. [-@fig:009]).

![режим моделирования](image/10.png){#fig:009 width=70%}

Сначала, как и в случае с хабом, пакеты ARP рассылаются по всем оконечным устройстам, но принимает его только ПК, которому предназначалось сообщение. Обратно же ARP не рассылается по всем устройствам, пакет идет только к ПК6 (он уже знает свой путь).

Исследуем структуру пакета ICMP. Изначально в PDU есть только заголовок IP, в котором есть соответсвенно информация об IP-адресах источника и назначения. Также там есть заголовок ICMP. В нем содержится данные о типе ICMP-пакета, его коде, контрольной сумме, его идентификаторе и порядковом номере. Эти заголовки остаются постоянными при передаче. Далее появляется кадр Ethernet. Тут есть поле преамбула — 7 байт для синхронизации. Поле SFD. Destination Address — Ethernet-адрес получателя, 6 байт. Source Address — Ethernet-адрес отправителя, 6 байт. Type — тип, для обозначения типа протокола уровня. FCS — frame check sequence, 4 байта, поле контрольной последовательности фрейма. Пакет отправляется на коммутатор, в заголовке указаны mac-адреса, в которых указано, что пакет идет от ПК4 к ПК6 

Очистим список событий, удалив сценарий моделирования. Выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкнем сначала на PC4, затем на PC6. Снова выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкнем сначала на PC6, затем на PC4. На панели моделирования нажмем кнопку «Play» и проследим за движением пакетов. Коллизия не возникает, потому что пакет не отправляется всем устройствам, а расходится по нужным назначениям коммутатором (рис. [-@fig:010]).

![сценарий с отсуствием коллизии](image/11.png){#fig:010 width=70%}

Перейдем в режим реального времени (Realtime). В рабочем пространстве соединим кроссовым кабелем концентратор и коммутатор. Перейдем в режим моделирования (Simulation). Очистим список событий, удалив сценарий моделирования. Выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкнем сначала на PC0, затем на PC4. Снова выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкнем сначала на PC4, затем на PC0. На панели моделирования нажмем кнопку «Play» и проследим за движением пакетов (рис. [-@fig:011]).

![сценарий с коллизией](image/12.png){#fig:011 width=70%}

Пакет, который отправлен из сети с хабом, как и в прошлый раз исчезает. А пакет, отправленный из сети с коммутатором достигает своего назначения. Так получается, потому что коммутатор может работать в режиме полного дуплекса (двунаправленная передача данных. Способность устройства или линии связи передавать данные одновременно в обоих направлениях по одному каналу, потенциально удваивая пропускную способность). 

Очистим список событий, удалив сценарий моделирования. На панели моделирования нажмием «Play» и в списке событий получим пакеты STP. Исследуем структуру STP. Заголовок STP (Spanning Tree Protocol) включает в себя поля: Идентификатор протокола (Protocol Identifier) — 2-х байтовое поле, которое всегда равно нулю. Версия STP протокола (Protocol Version Identifier) — поле размером в 1 байт, значение которого, всегда равно «0». Опишем структуру кадра Ethernet в этих пакетах. В STP пакетах кадр Ethernet имеет тип 802.3. В нем указана преамбула, mac-адреса источника и назначения и длина. Структура mac-адресов осталась прежней (рис. [-@fig:012]). 

![структура STP](image/13.png){#fig:012 width=70%}

Перейдем в режим реального времени (Realtime). В рабочем пространстве добавим маршрутизатор (например, Cisco 2811). Соединим прямым кабелем коммутатор и маршрутизатор. Щёлкнем на маршрутизаторе и на вкладке его конфигурации пропишем статический IP-адрес 192.168.1.254 с маской 255.255.255.0, активируем порт, поставив галочку «On» напротив «Port Status»(рис. [-@fig:013]).

![конфигурация маршрутизатора](image/14.png){#fig:013 width=70%}

![модель простой сети с маршрутизатором](image/15.png){#fig:013 width=70%}

Перейдем в режим моделирования (Simulation). Очистим список событий, удалив сценарий моделирования. Выберем на панели инструментов мышкой «Add Simple PDU (P)» и щёлкнем сначала на PC3, затем на маршрутизаторе. На панели моделирования нажмем кнопку «Play» и проследим за движением пакетов ARP, ICMP, STP и CDP. Сначала посылаются пакеты ARP, затем ICMP. В сети с хабом рассылка идет по всем устройствам, а в сети с коммутатором только к пункту назначения. После получения пакета идет идет рассылка STP пакетов всем устройствам сети. Затем появляются пакеты DTP, а потом уже появляются пакеты CDP(англ. Cisco Discovery Protocol) — проприетарный протокол второго уровня, разработанный компанией Cisco Systems. ([-@fig:014]).

![режим моделирования](image/16.png){#fig:014 width=70%}

Исследуем структуру пакета CDP. Поле Version - поле версии содержит используемую версию протокола CDP. В этом поле всегда содержится значение 0x01.Поле Time-to-Live (время жизни) указывает время в секундах, в течение которого получатель пакета CDP должен сохранять информацию, содержащуюся в пакете.Поле Checksum контрольной суммы содержит стандартную для протокола IP контрольную сумму. Структура кадра Ethernet 802.3 такая же как в пакетах STP и mac-адреса также остались прежними.([-@fig:015]).

![структура CDP](image/17.png){#fig:015 width=70%}

# Выводы

В процессе выполнения данной лабораторной работы я установила инструмент моделирования конфигурации сети Cisco Packet Tracer, ознакомилась с его интерфейсом.

# Ответы на контрольные вопросы

1. Дайте определение следующим понятиям: концентратор, коммутатор, маршрутизатор, шлюз (gateway). В каких случаях следует использовать тот или иной тип сетевого оборудования?

Концентратор - это простое сетевое устройство, работающее на физическом уровне модели OSI. Он служит центральной точкой подключения нескольких сетевых устройств в сегменте локальной сети (LAN). Все данные, полученные концентратором на один порт, ретранслируются на все остальные порты. Концентраторы практически не используются в современных сетях из-за их низкой эффективности и проблем с коллизиями. 

Коммутатор - это сетевое устройство, работающее на канальном уровне модели OSI. Он соединяет несколько устройств в LAN и пересылает данные только на порт назначения, основываясь на MAC-адресе получателя. Коммутаторы используют таблицы MAC-адресов, чтобы эффективно направлять трафик. Тем временем коммутаторы - это основной тип сетевого оборудования, используемый для создания локальных сетей.

Маршрутизатор - это сетевое устройство, работающее на сетевом уровне модели OSI. Он соединяет несколько сетей (LAN, WAN) и пересылает данные между ними, основываясь на IP-адресах получателей. Маршрутизаторы используют таблицы маршрутизации, чтобы определить оптимальный путь для передачи данных. Основное применение - соединение локальных сетей (LAN) с глобальной сетью (WAN), такой как интернет.

Шлюз - это сетевое устройство, которое соединяет две сети, использующие разные протоколы или архитектуры. Домашний маршрутизатор часто выступает в роли шлюза, предоставляя доступ в интернет устройствам в локальной сети.

2. Дайте определение следующим понятиям: ip-адрес, сетевая маска, broadcastадрес.

IP-адрес - это уникальный числовой идентификатор, присваиваемый каждому устройству в сети, использующей протокол IP. IP-адрес позволяет устройствам находить и взаимодействовать друг с другом в сети. IP-адреса бывают двух версий: IPv4 (32-битный) и IPv6 (128-битный).

Cетевая маска - это 32-битное число (для IPv4), которое используется для определения, какая часть IP-адреса относится к сети, а какая - к хосту (устройству) в этой сети. 

Broadcastадрес - это специальный IP-адрес, используемый для отправки данных всем устройствам в сети.

3. Как можно проверить доступность узла сети?

Доступность узла сети можно проверить используя утилиту ping. Ping (Packet Internet Groper): Это наиболее распространенный способ. Утилита ping отправляет ICMP-пакеты (Internet Control Message Protocol) эхо-запроса (echo request) на указанный IP-адрес или доменное имя и ожидает ICMP-ответы эхо-ответа (echo reply) в течение определенного времени. Если ответы получены, узел считается доступным.
