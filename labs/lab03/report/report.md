---
## Front matter
title: "Лабораторная работа 3"
subtitle: "Планирование локальной сети организации"
author: "Ланцова Яна Игоревна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: false # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
    - spelling=modern
    - babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Познакомится с принципами планирования локальной сети организации.

# Задание

1. Используя графический редактор (например, Dia), требуется повторить схемы L1, L2, L3, а также сопутствующие им таблицы VLAN, IP-адресов и портов подключения оборудования планируемой сети.
2. Рассмотренный выше пример планирования адресного пространства сети базируется на разбиении сети 10.128.0.0/16 на соответствующие подсети. Требуется сделать аналогичный план адресного пространства для сетей 172.16.0.0/12 и 192.168.0.0/16 с соответствующими схемами сети и сопутствующими таблицами VLAN, IP-адресов и портов подключения оборудования.
3. При выполнении работы необходимо учитывать соглашение об именовании.

# Выполнение лабораторной работы

В учебной организации требуется спланировать сетевую инфраструктуру. Особенности организации с точки зрения планирования локальной сети:
- наша организация располагается в одном городе (в Москве), но
на двух территориях («Донская» и «Павловская»);
  - группы пользователей организации:
  - администрация (А);
  - преподавательский состав кафедр (К);
  - пользователи дисплейных классов общего пользования (ДК);
  - другие пользователи (Д);
- предполагается, что на территории «Донская» будут располагаться:
  - устройства управления сетью;
  - серверная инфраструктура;
  - оборудование всех групп пользователей;
- предполагается, что на территории «Павловская» будет располагаться
оборудование групп пользователей «ДК» и «Д».

Перейдем к планированию сети. Примерная схема планируемой сети с указанием типов и номеров портов подключения устройств, соответствующая физическому уровню модели OSI (L1), будет иметь вид, изображённый на рис. (рис. [-@fig:001]).

![Физические устройства сети с номерами портов (Layer 1)](image/1.png){#fig:001 width=70%}

В качестве оборудования уровня ядра будем использовать маршрутизатор Cisco 2811, на уровне распределения — коммутаторы Cisco 2960 с возможностью настройки VLAN, а на уровне доступа — коммутаторы Cisco 2950. Далее спланируем распределение VLAN. Выделим в отдельные подсети (VLAN) устройства управления сетью(для управления устройствами и для серверной фермы), а также различные группы пользователей, в нашей сети есть дисплейные классы, кафедры и администрация(см. [-@tbl:vlan]).

:Таблица VLAN {#tbl:vlan}

| № VLAN | Имя VLAN    | Примечание                  |
|--------|-------------|-----------------------------|
| 1      | default     | Не используется             |
| 2      | management  | Для управления устройствами |
| 3      | servers     | Для серверной фермы         |
| 4-100  |             | Зарезервировано             |
| 101    | dk          | Дисплейные классы (ДК)      |
| 102    | departments | Кафедры                     |
| 103    | adm         | Администрация               |
| 104    | other       | Для других пользователей    |
 

Примерная схема сети с указанием номеров VLAN, соответствующая канальному уровню модели OSI (L2), будет иметь вид, изображённый на рис. [-@fig:002].(рис. [-@fig:002]).

![Схема VLAN сети (Layer 2)](image/2.png){#fig:002 width=70%}

Далее необходимо определить адресное пространство, ассоциированное с вы-
деленными VLAN. Примерная схема сети, соответствующая сетевому уровню
модели OSI (L3), будет иметь вид, изображённый на рис. (рис. [-@fig:003]):

![Схема маршрутизации сети (Layer 3). Сеть 10.128.0.0/16](image/3.png){#fig:003 width=70%}

Более детальное распределение IP-адресов в сети представлено в табл. [-@tbl:ip1]. При планировании IP-адресация (разбиении адресного пространства сети на подсети) следует учитывать потенциальное количество устройств подсети, а также возможность увеличения их числа. Поэтому для пользователей выделено больше адресов, чем сейчас требуется. 

:Таблица IP. Сеть 10.128.0.0/16 {#tbl:ip1}

| IP-адреса               | Примечание           | VLAN |
|-------------------------|----------------------|------|
| 10.128.0.0/16           | Вся сеть             |      |
|-------------------------|----------------------|------| 
| 10.128.0.0/24           | Серверная ферма      | 3    |
| 10.128.0.1              | Шлюз                 |      |
| 10.128.0.2              | Web                  |      |
| 10.128.0.3              | File                 |      |
| 10.128.0.4              | Mail                 |      |
| 10.128.0.5              | Dns                  |      |
| 10.128.0.6-10.128.0.254 | Зарезервировано      |      |
|-------------------------|----------------------|------| 
| 10.128.1.0/24           | Управление           | 2    |
| 10.128.1.1              | Шлюз                 |      |
| 10.128.1.2              | msk-donskaya-sw-1    |      |
| 10.128.1.3              | msk-donskaya-sw-2    |      |
| 10.128.1.4              | msk-donskaya-sw-3    |      |
| 10.128.1.5              | msk-donskaya-sw-4    |      |
| 10.128.1.6              | msk-pavlovskaya-sw-1 |      |
| 10.128.1.7-10.128.1.254 | Зарезервировано      |      |
|-------------------------|----------------------|------| 
| 10.128.2.0/24           | Cеть Point-to-Point  |      |
| 10.128.2.1              | Шлюз                 |      |
| 10.128.2.2-10.128.2.254 | Зарезервировано      |      |
|-------------------------|-------------------------|-----|
| 10.128.3.0/24           | Дисплейные классы (ДК)  | 101 |
| 10.128.3.1              | Шлюз                    |     |
| 10.128.3.2-10.128.3.254 | Пул для пользователей   |     |
|-------------------------|-------------------------|-----|
| 10.128.4.0/24           | Кафедры (К)             | 102 |
| 10.128.4.1              | Шлюз                    |     |
| 10.128.4.2-10.128.4.254 | Пул для пользователей   |     |
|-------------------------|-------------------------|-----|
| 10.128.5.0/24           | Администрация (А)       | 103 |
| 10.128.5.1              | Шлюз                    |     |
| 10.128.5.2-10.128.5.254 | Пул для пользователей   |     |
|-------------------------|-------------------------|-----|
| 10.128.6.0/24           | Другие пользователи (Д) | 104 |
| 10.128.6.1              | Шлюз                    |     |
| 10.128.6.2-10.128.6.254 | Пул для пользователей   |     |
|-------------------------|-------------------------|-----|

Регламент выделения ip-адресов дан в табл. [-@tbl:plan].

:Регламент выделения ip-адресов (для сети класса C) {#tbl:iplan}

| IP-адреса | Назначение           |
|-----------|----------------------|
| 1         | Шлюз                 |
| 2-19      | Сетевое оборудование |
| 20-29     | Серверы              |
| 30-199    | Компьютеры, DHCP     |
| 200-219   | Компьютеры, Static   |
| 220-229   | Принтеры             |
| 230-254   | Резерв               |

В табл. [-@tbl:fiz] приведён план подключения оборудования сети по портам.

:Таблица портов {#tbl:fiz}


| Устройство        | Порт        | Примечание           | Access VLAN | Trunk VLAN               |
|-------------------|-------------|----------------------|-------------|--------------------------|
| msk-donskaya-gw-1 | f0/1        | UpLink               |             |                          |
|                   | f0/0        | msk-donskaya-sw-1    |             | 2, 3, 101, 102, 103, 104 |
| msk-donskaya-sw-1 | f0/24       | msk-donskaya-gw-1    |             | 2, 3, 101, 102, 103, 104 |
|                   | g0/1        | msk-donskaya-sw-2    |             | 2, 3                     |
|                   | g0/2        | msk-donskaya-sw-4    |             | 2, 101, 102, 103, 104    |
|                   | f0/1        | msk-pavlovskaya-sw-1 |             | 2, 101, 104              |
| msk-donskaya-sw-2 | g0/1        | msk-donskaya-sw-1    |             | 2, 3                     |
|                   | g0/2        | msk-donskaya-sw-3    |             | 2, 3                     |
|                   | f0/1        | Web-server           | 3           |                          |
|                   | f0/2        | File-server          | 3           |                          |
| msk-donskaya-sw-3 | g0/1        | msk-donskaya-sw-2    |             | 2, 3                     |
|                   | f0/1        | Mail-server          | 3           |                          |
|                   | f0/2        | Dns-server           | 3           |                          |
| msk-donskaya-sw-4 | g0/1        | msk-donskaya-sw-1    |             | 2, 101, 102, 103, 104    |
|                   | f0/1–f0/5   | dk                   | 101         |                          |
|                   | f0/6–f0/10  | departments          | 102         |                          |
|                   | f0/11–f0/15 | adm                  | 103         |                          |
|                   | f0/16–f0/24 | other                | 104         |                          |

Теперь нам нужно реализовать сети с ip-адресами из других диапазонов частных адресов, а именно из 172.16.0.0/12 и 192.168.0.0/16. Это изменение затрагивает только третий слой, поэтому схемы для подключения физического оборудования и распределения VLAN, а также соответствующие данные в таблицах останутся неизменными. Так как количество устройств в сети остается неизменным, то для двух новых сетей регамент распределения ip-адресов тоже не изменится. В табл. [-@tbl:ip2] и табл. [-@tbl:ip3] представлены схемы маршрутизации для двух сетей, были изменены только первые два байта, потому что в этих сетях мы можем выделить подсеть с маской 255.255.255.0, как и в случае сети 10.128.0.0/16. А на рисунках [-@fig:004] и [-@fig:005] представлены соответсвующие схемы маршрутизации.

![Схема маршрутизации сети (Layer 3). Сеть 172.16.0.0/12](image/4.png){#fig:004 width=70%}

![Схема маршрутизации сети (Layer 3). Сеть 192.168.0.0/16](image/5.png){#fig:005 width=70%}

:Таблица IP. Сеть 172.16.0.0/12 {#tbl:ip2}

| IP-адреса               | Примечание           | VLAN |
|-------------------------|------------------------|------|
| 172.16.0.0/12           | Вся сеть             |      |
| 172.16.0.0/24           | Серверная ферма      | 3    |
| 172.16.0.1              | Шлюз                 |      |
| 172.16.0.2              | Web                  |      |
| 172.16.0.3              | File                 |      |
| 172.16.0.4              | Mail                 |      |
| 172.16.0.5              | Dns                  |      |
| 172.16.0.6-172.16.0.254 | Зарезервировано      |      |
|-------------------------|-------------------------|------|
| 172.16.1.0/24           | Управление           | 2    |
| 172.16.1.1              | Шлюз                 |      |
| 172.16.1.2              | msk-donskaya-sw-1    |      |
| 172.16.1.3              | msk-donskaya-sw-2    |      |
| 172.16.1.4              | msk-donskaya-sw-3    |      |
| 172.16.1.5              | msk-donskaya-sw-4    |      |
| 172.16.1.6              | msk-pavlovskaya-sw-1 |      |
| 172.16.1.7-172.16.1.254 | Зарезервировано      |      |
|-------------------------|-------------------------|------|
| 172.16.2.0/24           | Cеть Point-to-Point  |      |
| 172.16.2.1              | Шлюз                 |      |
| 172.16.2.2-172.16.2.254 | Зарезервировано      |      |
|-------------------------|-------------------------|------|
| 172.16.3.0/24           | Дисплейные классы (ДК)  | 101 |
| 172.16.3.1              | Шлюз                    |     |
| 172.16.3.2-172.16.3.254 | Пул для пользователей   |     |
|-------------------------|-------------------------|------|
| 172.16.4.0/24           | Кафедры (К)             | 102 |
| 172.16.4.1              | Шлюз                    |     |
| 172.16.4.2-172.16.4.254 | Пул для пользователей   |     |
|-------------------------|-------------------------|------|
| 172.16.5.0/24           | Администрация (А)       | 103 |
| 172.16.5.1              | Шлюз                    |     |
| 172.16.5.2-172.16.5.254 | Пул для пользователей   |     |
|-------------------------|-------------------------|------|
| 172.16.6.0/24           | Другие пользователи (Д) | 104 |
| 172.16.6.1              | Шлюз                    |     |
| 172.16.6.2-172.16.6.254 | Пул для пользователей   |     |


:Таблица IP. Сеть 192.168.0.0/16 {#tbl:ip3}

| IP-адреса                 | Примечание           | VLAN |
|---------------------------|-------------------------|------|
| 192.168.0.0/16            | Вся сеть             |      |
| 192.168.0.0/24            | Серверная ферма      | 3    |
| 192.168.0.1               | Шлюз                 |      |
| 192.168.0.2               | Web                  |      |
| 192.168.0.3               | File                 |      |
| 192.168.0.4               | Mail                 |      |
| 192.168.0.5               | Dns                  |      |
| 192.168.0.6-192.168.0.254 | Зарезервировано      |      |
|---------------------------|-------------------------|------|
| 192.168.1.0/24            | Управление           | 2    |
| 192.168.1.1               | Шлюз                 |      |
| 192.168.1.2               | msk-donskaya-sw-1    |      |
| 192.168.1.3               | msk-donskaya-sw-2    |      |
| 192.168.1.4               | msk-donskaya-sw-3    |      |
| 192.168.1.5               | msk-donskaya-sw-4    |      |
| 192.168.1.6               | msk-pavlovskaya-sw-1 |      |
| 192.168.1.7-192.168.1.254 | Зарезервировано      |      |
|---------------------------|-------------------------|------|
| 192.168.2.0/24            | Cеть Point-to-Point  |      |
| 192.168.2.1               | Шлюз                 |      |
| 192.168.2.2-192.168.2.254 | Зарезервировано      |      |
|---------------------------|-------------------------|------|
| 192.168.3.0/24            | Дисплейные классы (ДК)  | 101 |
| 192.168.3.1               | Шлюз                    |     |
| 192.168.3.2-192.168.3.254 | Пул для пользователей   |     |
|---------------------------|-------------------------|------|
| 192.168.4.0/24            | Кафедры (К)             | 102 |
| 192.168.4.1               | Шлюз                    |     |
| 192.168.4.2-192.168.4.254 | Пул для пользователей   |     |
|---------------------------|-------------------------|------|
| 192.168.5.0/24            | Администрация (А)       | 103 |
| 192.168.5.1               | Шлюз                    |     |
| 192.168.5.2-192.168.5.254 | Пул для пользователей   |     |
|---------------------------|-------------------------|------|
| 192.168.6.0/24            | Другие пользователи (Д) | 104 |
| 192.168.6.1               | Шлюз                    |     |
| 192.168.6.2-192.168.6.254 | Пул для пользователей   |     |


# Выводы

В результате выполнения лабораторной работы познакомились с принципами планирования локальной сети организации. 
